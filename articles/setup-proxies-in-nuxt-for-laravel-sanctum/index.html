<!DOCTYPE html><html lang="en" data-capo=""><head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Setup proxies in Nuxt for Laravel Sanctum | Ne znam</title>
<link rel="stylesheet" href="/_nuxt/entry.MyOB4TIn.css">
<link rel="stylesheet" href="/_nuxt/DocumentDrivenNotFound.aKgW6y5s.css">
<link rel="stylesheet" href="/_nuxt/article.gEpChHtF.css">
<link rel="stylesheet" href="/_nuxt/ProseA.E_Q0ujwW.css">
<link rel="stylesheet" href="/_nuxt/ProseH1.zitcjqUV.css">
<link rel="stylesheet" href="/_nuxt/ProseP.WcIk23nj.css">
<link rel="stylesheet" href="/_nuxt/ProseCodeInline.8qPj3Y3i.css">
<link rel="stylesheet" href="/_nuxt/ProseH2.RHwpsPlF.css">
<link rel="stylesheet" href="/_nuxt/ProsePre.nIRUQbb-.css">
<link rel="stylesheet" href="/_nuxt/ProseCode.MKMLTZxu.css">
<link rel="preload" as="fetch" crossorigin="anonymous" href="/articles/setup-proxies-in-nuxt-for-laravel-sanctum/_payload.json">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/entry.L5dCNuZc.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/NuxtImg.WyWHmhTs.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/document-driven.fhllX7LK.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DocumentDrivenEmpty.89zS-oxf.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRenderer.QE1MZo-b.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRendererMarkdown.vue.jGmwsCZ5.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/preview.VjvBonK9.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DocumentDrivenNotFound.7zjb2bNf.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/article.Mnss0YY8.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseA.htrU_Exy.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/date.3uOv5BcS.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRendererMarkdown.LdnM4_ej.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH1.qLkd5MUf.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseP.XQaSFEjl.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCodeInline.JFMkwcIz.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH2.TisKm2zs.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProsePre.B-KEFMA1.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCode.nxeHVWkB.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/default.L9arEByV.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/page._x8kfp8n.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/client-db.xnt4aUo9.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/slugify.v8JcvOaF.js">
<link rel="prefetch" as="style" href="/_nuxt/useStudio.3MfaGMCn.css">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/useStudio.BhiAZBnC.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/query.aldYgvkE.js">
<link rel="prefetch" as="style" href="/_nuxt/error-404._LjjY-y0.css">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/error-404.DM6hMDOO.js">
<link rel="prefetch" as="style" href="/_nuxt/error-500.Ke0_YfD7.css">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/error-500.TIN86j-q.js">
<link rel="icon" href="/favicon.ico" sizes="any">
<link rel="icon" href="/android-icon-144x144.png" type="image/png" sizes="144x144">
<link rel="icon" href="/android-icon-192x192.png" type="image/png" sizes="192x192">
<link rel="icon" href="/android-icon-36x36.png" type="image/png" sizes="36x36">
<link rel="icon" href="/android-icon-48x48.png" type="image/png" sizes="48x48">
<link rel="icon" href="/android-icon-72x72.png" type="image/png" sizes="72x72">
<link rel="icon" href="/android-icon-96x96.png" type="image/png" sizes="96x96">
<link rel="icon" href="/apple-icon-114x114.png" type="image/png" sizes="114x114">
<link rel="icon" href="/apple-icon-120x120.png" type="image/png" sizes="120x120">
<link rel="icon" href="/apple-icon-144x144.png" type="image/png" sizes="144x144">
<link rel="icon" href="/apple-icon-152x152.png" type="image/png" sizes="152x152">
<link rel="icon" href="/apple-icon-180x180.png" type="image/png" sizes="180x180">
<link rel="icon" href="/apple-icon-57x57.png" type="image/png" sizes="57x57">
<link rel="icon" href="/apple-icon-60x60.png" type="image/png" sizes="60x60">
<link rel="icon" href="/apple-icon-72x72.png" type="image/png" sizes="72x72">
<link rel="icon" href="/apple-icon-76x76.png" type="image/png" sizes="76x76">
<link rel="icon" href="/apple-icon-precomposed.png" type="image/png" sizes="192x192">
<link rel="icon" href="/favicon-16x16.png" type="image/png" sizes="16x16">
<link rel="icon" href="/favicon-32x32.png" type="image/png" sizes="32x32">
<link rel="icon" href="/favicon-96x96.png" type="image/png" sizes="96x96">
<link rel="icon" href="/ms-icon-144x144.png" type="image/png" sizes="144x144">
<link rel="icon" href="/ms-icon-150x150.png" type="image/png" sizes="150x150">
<link rel="icon" href="/ms-icon-310x310.png" type="image/png" sizes="310x310">
<link rel="icon" href="/ms-icon-70x70.png" type="image/png" sizes="70x70">
<link rel="apple-touch-icon" href="/apple-icon.png" type="image/png" sizes="192x192">
<meta name="twitter:site" content="@mbanusic">
<meta name="twitter:creator" content="@mbanusic">
<meta property="og:type" content="website">
<link rel="canonical" href="https://nezn.am/articles/setup-proxies-in-nuxt-for-laravel-sanctum">
<meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
<meta property="og:image" content="https://nezn.am/social-card-preview.png">
<meta property="og:image:width" content="400">
<meta property="og:image:height" content="300">
<meta property="og:image:alt" content="An image showcasing my project.">
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Setup proxies in Nuxt for Laravel Sanctum">
<meta name="description" content="Create proxies for Laravel Sanctum in Nuxt to avoid CORS issues">
<meta property="og:description" content="Create proxies for Laravel Sanctum in Nuxt to avoid CORS issues">
<script type="module" src="/_nuxt/entry.L5dCNuZc.js" crossorigin></script>
<meta property="og:url" content="https://nezn.am/articles/setup-proxies-in-nuxt-for-laravel-sanctum">
<meta property="og:locale" content="en">
<meta property="og:site_name" content="Ne znam"><style id="pinceau-runtime-hydratable">@media{.phy[--]{--puid:jsDP3U-v;}.pv-3qL4jp{max-width:var(--elements-container-maxWidth);padding-left:var(--elements-container-padding-mobile);padding-right:var(--elements-container-padding-mobile);}@media (min-width: 475px){.pv-3qL4jp{padding-left:var(--elements-container-padding-xs);padding-right:var(--elements-container-padding-xs);}}@media (min-width: 640px){.pv-3qL4jp{padding-left:var(--elements-container-padding-sm);padding-right:var(--elements-container-padding-sm);}}@media (min-width: 768px){.pv-3qL4jp{padding-left:var(--elements-container-padding-md);padding-right:var(--elements-container-padding-md);}}} </style><style id="pinceau-theme">@media { :root {--pinceau-mq: initial; --alpine-readableLine: 68ch;--alpine-backdrop-backgroundColor: #f4f4f5b3;--prose-code-inline-padding: 0.2rem 0.375rem 0.2rem 0.375rem;--prose-code-block-backdropFilter: contrast(1);--prose-code-block-border-style: solid;--prose-code-block-border-width: 1px;--prose-tbody-tr-borderBottom-style: dashed;--prose-tbody-tr-borderBottom-width: 1px;--prose-th-textAlign: inherit;--prose-thead-borderBottom-style: solid;--prose-thead-borderBottom-width: 1px;--prose-thead-border-style: solid;--prose-thead-border-width: 0px;--prose-table-textAlign: start;--prose-hr-width: 1px;--prose-hr-style: solid;--prose-li-listStylePosition: outside;--prose-ol-li-markerColor: currentColor;--prose-ol-paddingInlineStart: 21px;--prose-ol-listStyleType: decimal;--prose-ul-li-markerColor: currentColor;--prose-ul-paddingInlineStart: 21px;--prose-ul-listStyleType: disc;--prose-blockquote-border-style: solid;--prose-blockquote-border-width: 4px;--prose-blockquote-quotes: '201C' '201D' '2018' '2019';--prose-blockquote-paddingInlineStart: 24px;--prose-a-code-color-hover: currentColor;--prose-a-code-color-static: currentColor;--prose-a-hasCode-borderBottom: none;--prose-a-border-distance: 2px;--prose-a-border-color-hover: currentColor;--prose-a-border-color-static: currentColor;--prose-a-border-style-hover: solid;--prose-a-border-style-static: dashed;--prose-a-border-width: 1px;--prose-a-color-static: inherit;--prose-a-textDecoration: none;--prose-h6-margin: 3rem 0 2rem;--prose-h5-margin: 3rem 0 2rem;--prose-h4-margin: 3rem 0 2rem;--prose-h3-margin: 3rem 0 2rem;--prose-h2-margin: 3rem 0 2rem;--prose-h1-margin: 0 0 2rem;--prose-p-fontSize: 18px;--typography-lead-loose: 2;--typography-lead-relaxed: 1.625;--typography-lead-normal: 1.5;--typography-lead-snug: 1.375;--typography-lead-tight: 1.25;--typography-lead-none: 1;--typography-lead-10: 2.5rem;--typography-lead-9: 2.25rem;--typography-lead-8: 2rem;--typography-lead-7: 1.75rem;--typography-lead-6: 1.5rem;--typography-lead-5: 1.25rem;--typography-lead-4: 1rem;--typography-lead-3: .75rem;--typography-lead-2: .5rem;--typography-lead-1: .025rem;--typography-fontWeight-black: 900;--typography-fontWeight-extrabold: 800;--typography-fontWeight-bold: 700;--typography-fontWeight-semibold: 600;--typography-fontWeight-medium: 500;--typography-fontWeight-normal: 400;--typography-fontWeight-light: 300;--typography-fontWeight-extralight: 200;--typography-fontWeight-thin: 100;--typography-fontSize-9xl: 128px;--typography-fontSize-8xl: 96px;--typography-fontSize-7xl: 72px;--typography-fontSize-6xl: 60px;--typography-fontSize-5xl: 48px;--typography-fontSize-4xl: 36px;--typography-fontSize-3xl: 30px;--typography-fontSize-2xl: 24px;--typography-fontSize-xl: 20px;--typography-fontSize-lg: 18px;--typography-fontSize-base: 16px;--typography-fontSize-sm: 14px;--typography-fontSize-xs: 12px;--typography-letterSpacing-wide: 0.025em;--typography-letterSpacing-tight: -0.025em;--typography-verticalMargin-base: 24px;--typography-verticalMargin-sm: 16px;--elements-border-secondary-hover: [object Object];--elements-backdrop-background: #fffc;--elements-backdrop-filter: saturate(200%) blur(20px);--elements-container-maxWidth: 64rem;--lead-loose: 2;--lead-relaxed: 1.625;--lead-normal: 1.5;--lead-snug: 1.375;--lead-tight: 1.25;--lead-none: 1;--lead-10: 2.5rem;--lead-9: 2.25rem;--lead-8: 2rem;--lead-7: 1.75rem;--lead-6: 1.5rem;--lead-5: 1.25rem;--lead-4: 1rem;--lead-3: .75rem;--lead-2: .5rem;--lead-1: .025rem;--letterSpacing-widest: 0.1em;--letterSpacing-wider: 0.05em;--letterSpacing-wide: 0.025em;--letterSpacing-normal: 0em;--letterSpacing-tight: -0.025em;--letterSpacing-tighter: -0.05em;--fontSize-9xl: 8rem;--fontSize-8xl: 6rem;--fontSize-7xl: 4.5rem;--fontSize-6xl: 3.75rem;--fontSize-5xl: 3rem;--fontSize-4xl: 2.25rem;--fontSize-3xl: 1.875rem;--fontSize-2xl: 1.5rem;--fontSize-xl: 1.25rem;--fontSize-lg: 1.125rem;--fontSize-base: 1rem;--fontSize-sm: 0.875rem;--fontSize-xs: 0.75rem;--fontWeight-black: 900;--fontWeight-extrabold: 800;--fontWeight-bold: 700;--fontWeight-semibold: 600;--fontWeight-medium: 500;--fontWeight-normal: 400;--fontWeight-light: 300;--fontWeight-extralight: 200;--fontWeight-thin: 100;--font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace;--font-serif: ui-serif, Georgia, Cambria, Times New Roman, Times, serif;--font-sans: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, Noto Sans, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji;--opacity-total: 1;--opacity-high: 0.8;--opacity-medium: 0.5;--opacity-soft: 0.3;--opacity-light: 0.15;--opacity-bright: 0.1;--opacity-noOpacity: 0;--borderWidth-lg: 3px;--borderWidth-md: 2px;--borderWidth-sm: 1px;--borderWidth-noBorder: 0;--space-rem-875: 0.875rem;--space-rem-625: 0.625rem;--space-rem-375: 0.375rem;--space-rem-125: 0.125rem;--space-px: 1px;--space-128: 32rem;--space-96: 24rem;--space-80: 20rem;--space-72: 18rem;--space-64: 16rem;--space-60: 15rem;--space-56: 14rem;--space-52: 13rem;--space-48: 12rem;--space-44: 11rem;--space-40: 10rem;--space-36: 9rem;--space-32: 8rem;--space-28: 7rem;--space-24: 6rem;--space-20: 5rem;--space-16: 4rem;--space-14: 3.5rem;--space-12: 3rem;--space-11: 2.75rem;--space-10: 2.5rem;--space-9: 2.25rem;--space-8: 2rem;--space-7: 1.75rem;--space-6: 1.5rem;--space-5: 1.25rem;--space-4: 1rem;--space-3: 0.75rem;--space-2: 0.5rem;--space-1: 0.25rem;--space-0: 0px;--size-full: 100%;--size-7xl: 80rem;--size-6xl: 72rem;--size-5xl: 64rem;--size-4xl: 56rem;--size-3xl: 48rem;--size-2xl: 42rem;--size-xl: 36rem;--size-lg: 32rem;--size-md: 28rem;--size-sm: 24rem;--size-xs: 20rem;--size-200: 200px;--size-104: 104px;--size-80: 80px;--size-64: 64px;--size-56: 56px;--size-48: 48px;--size-40: 40px;--size-32: 32px;--size-24: 24px;--size-20: 20px;--size-16: 16px;--size-12: 12px;--size-8: 8px;--size-6: 6px;--size-4: 4px;--size-2: 2px;--size-0: 0px;--radii-full: 9999px;--radii-3xl: 1.75rem;--radii-2xl: 1.5rem;--radii-xl: 1rem;--radii-lg: 0.75rem;--radii-md: 0.5rem;--radii-sm: 0.375rem;--radii-xs: 0.25rem;--radii-2xs: 0.125rem;--radii-none: 0px;--shadow-none: 0px 0px 0px 0px transparent;--shadow-lg: 0px 10px 15px -3px #000000, 0px 4px 6px -4px #000000;--shadow-md: 0px 4px 6px -1px #000000, 0px 2px 4px -2px #000000;--shadow-sm: 0px 1px 3px 0px #000000, 0px 1px 2px -1px #000000;--shadow-xs: 0px 1px 2px 0px #000000;--height-screen: 100vh;--width-screen: 100vw;--color-primary-900: #002e38;--color-primary-800: #005c70;--color-primary-700: #008aa9;--color-primary-600: #00b9e1;--color-primary-500: #1ad6ff;--color-primary-400: #40ddff;--color-primary-300: #66e4ff;--color-primary-200: #8deaff;--color-primary-100: #b3f1ff;--color-primary-50: #d9f8ff;--color-ruby-900: #380011;--color-ruby-800: #700021;--color-ruby-700: #a90032;--color-ruby-600: #e10043;--color-ruby-500: #ff1a5e;--color-ruby-400: #ff4079;--color-ruby-300: #ff6694;--color-ruby-200: #ff8dae;--color-ruby-100: #ffb3c9;--color-ruby-50: #ffd9e4;--color-pink-900: #380025;--color-pink-800: #70004b;--color-pink-700: #a90070;--color-pink-600: #e10095;--color-pink-500: #ff1ab2;--color-pink-400: #ff40bf;--color-pink-300: #ff66cc;--color-pink-200: #ff8dd8;--color-pink-100: #ffb3e5;--color-pink-50: #ffd9f2;--color-purple-900: #190038;--color-purple-800: #330070;--color-purple-700: #4c00a9;--color-purple-600: #6500e1;--color-purple-500: #811aff;--color-purple-400: #9640ff;--color-purple-300: #ab66ff;--color-purple-200: #c08dff;--color-purple-100: #d5b3ff;--color-purple-50: #ead9ff;--color-royalblue-900: #0b0531;--color-royalblue-800: #160a62;--color-royalblue-700: #211093;--color-royalblue-600: #2c15c4;--color-royalblue-500: #4127e8;--color-royalblue-400: #614bec;--color-royalblue-300: #806ff0;--color-royalblue-200: #a093f3;--color-royalblue-100: #c0b7f7;--color-royalblue-50: #dfdbfb;--color-indigoblue-900: #001238;--color-indigoblue-800: #002370;--color-indigoblue-700: #0035a9;--color-indigoblue-600: #0047e1;--color-indigoblue-500: #1a62ff;--color-indigoblue-400: #407cff;--color-indigoblue-300: #6696ff;--color-indigoblue-200: #8db0ff;--color-indigoblue-100: #b3cbff;--color-indigoblue-50: #d9e5ff;--color-blue-900: #002438;--color-blue-800: #004870;--color-blue-700: #006ca9;--color-blue-600: #0090e1;--color-blue-500: #1aadff;--color-blue-400: #40bbff;--color-blue-300: #66c8ff;--color-blue-200: #8dd6ff;--color-blue-100: #b3e4ff;--color-blue-50: #d9f1ff;--color-lightblue-900: #002e38;--color-lightblue-800: #005c70;--color-lightblue-700: #008aa9;--color-lightblue-600: #00b9e1;--color-lightblue-500: #1ad6ff;--color-lightblue-400: #40ddff;--color-lightblue-300: #66e4ff;--color-lightblue-200: #8deaff;--color-lightblue-100: #b3f1ff;--color-lightblue-50: #d9f8ff;--color-teal-900: #062a28;--color-teal-800: #0b544f;--color-teal-700: #117d77;--color-teal-600: #16a79e;--color-teal-500: #1cd1c6;--color-teal-400: #36e4da;--color-teal-300: #5fe9e1;--color-teal-200: #87efe9;--color-teal-100: #aff4f0;--color-teal-50: #d7faf8;--color-pear-900: #2a2b09;--color-pear-800: #545512;--color-pear-700: #7e801b;--color-pear-600: #a8aa24;--color-pear-500: #d0d32f;--color-pear-400: #d8da52;--color-pear-300: #e0e274;--color-pear-200: #e8e997;--color-pear-100: #eff0ba;--color-pear-50: #f7f8dc;--color-red-900: #380300;--color-red-800: #700700;--color-red-700: #a90a00;--color-red-600: #e10e00;--color-red-500: #ff281a;--color-red-400: #ff4c40;--color-red-300: #ff7066;--color-red-200: #ff948d;--color-red-100: #ffb7b3;--color-red-50: #ffdbd9;--color-orange-900: #381800;--color-orange-800: #702f00;--color-orange-700: #a94700;--color-orange-600: #e15e00;--color-orange-500: #ff7a1a;--color-orange-400: #ff9040;--color-orange-300: #ffa666;--color-orange-200: #ffbd8d;--color-orange-100: #ffd3b3;--color-orange-50: #ffe9d9;--color-yellow-900: #362b03;--color-yellow-800: #6d5605;--color-yellow-700: #a38108;--color-yellow-600: #daac0a;--color-yellow-500: #f5c828;--color-yellow-400: #f7d14c;--color-yellow-300: #f8da70;--color-yellow-200: #fae393;--color-yellow-100: #fcedb7;--color-yellow-50: #fdf6db;--color-green-900: #003f25;--color-green-800: #005e38;--color-green-700: #007e4a;--color-green-600: #009d5d;--color-green-500: #00bd6f;--color-green-400: #00dc82;--color-green-300: #30ffaa;--color-green-200: #83ffcc;--color-green-100: #acffdd;--color-green-50: #d6ffee;--color-gray-900: #18181B;--color-gray-800: #27272A;--color-gray-700: #3f3f46;--color-gray-600: #52525B;--color-gray-500: #71717A;--color-gray-400: #a1a1aa;--color-gray-300: #D4d4d8;--color-gray-200: #e4e4e7;--color-gray-100: #f4f4f5;--color-gray-50: #fafafa;--color-black: #0c0c0d;--color-white: #FFFFFF;--media-portrait: only screen and (orientation: portrait);--media-landscape: only screen and (orientation: landscape);--media-rm: (prefers-reduced-motion: reduce);--media-2xl: (min-width: 1536px);--media-xl: (min-width: 1280px);--media-lg: (min-width: 1024px);--media-md: (min-width: 768px);--media-sm: (min-width: 640px);--media-xs: (min-width: 475px);--alpine-body-color: var(--color-gray-800);--alpine-body-backgroundColor: var(--color-white);--prose-code-inline-fontWeight: var(--typography-fontWeight-normal);--prose-code-inline-fontSize: var(--typography-fontSize-sm);--prose-code-inline-borderRadius: var(--radii-xs);--prose-code-block-pre-padding: var(--typography-verticalMargin-sm);--prose-code-block-margin: var(--typography-verticalMargin-base) 0;--prose-code-block-fontSize: var(--typography-fontSize-sm);--prose-tbody-code-inline-fontSize: var(--typography-fontSize-sm);--prose-tbody-td-padding: var(--typography-verticalMargin-sm);--prose-th-fontWeight: var(--typography-fontWeight-semibold);--prose-th-padding: 0 var(--typography-verticalMargin-sm) var(--typography-verticalMargin-sm) var(--typography-verticalMargin-sm);--prose-table-lineHeight: var(--typography-lead-6);--prose-table-fontSize: var(--typography-fontSize-sm);--prose-table-margin: var(--typography-verticalMargin-base) 0;--prose-hr-margin: var(--typography-verticalMargin-base) 0;--prose-li-margin: var(--typography-verticalMargin-sm) 0;--prose-ol-margin: var(--typography-verticalMargin-base) 0;--prose-ul-margin: var(--typography-verticalMargin-base) 0;--prose-blockquote-margin: var(--typography-verticalMargin-base) 0;--prose-a-code-border-style: var(--prose-a-border-style-static);--prose-a-code-border-width: var(--prose-a-border-width);--prose-a-fontWeight: var(--typography-fontWeight-medium);--prose-img-margin: var(--typography-verticalMargin-base) 0;--prose-strong-fontWeight: var(--typography-fontWeight-semibold);--prose-h6-iconSize: var(--typography-fontSize-base);--prose-h6-fontWeight: var(--typography-fontWeight-semibold);--prose-h6-lineHeight: var(--typography-lead-normal);--prose-h6-fontSize: var(--typography-fontSize-lg);--prose-h5-iconSize: var(--typography-fontSize-lg);--prose-h5-fontWeight: var(--typography-fontWeight-semibold);--prose-h5-lineHeight: var(--typography-lead-snug);--prose-h5-fontSize: var(--typography-fontSize-xl);--prose-h4-iconSize: var(--typography-fontSize-lg);--prose-h4-letterSpacing: var(--typography-letterSpacing-tight);--prose-h4-fontWeight: var(--typography-fontWeight-semibold);--prose-h4-lineHeight: var(--typography-lead-snug);--prose-h4-fontSize: var(--typography-fontSize-2xl);--prose-h3-iconSize: var(--typography-fontSize-xl);--prose-h3-letterSpacing: var(--typography-letterSpacing-tight);--prose-h3-fontWeight: var(--typography-fontWeight-semibold);--prose-h3-lineHeight: var(--typography-lead-snug);--prose-h3-fontSize: var(--typography-fontSize-3xl);--prose-h2-iconSize: var(--typography-fontSize-2xl);--prose-h2-letterSpacing: var(--typography-letterSpacing-tight);--prose-h2-fontWeight: var(--typography-fontWeight-semibold);--prose-h2-lineHeight: var(--typography-lead-tight);--prose-h2-fontSize: var(--typography-fontSize-4xl);--prose-h1-iconSize: var(--typography-fontSize-3xl);--prose-h1-letterSpacing: var(--typography-letterSpacing-tight);--prose-h1-fontWeight: var(--typography-fontWeight-bold);--prose-h1-lineHeight: var(--typography-lead-tight);--prose-h1-fontSize: var(--typography-fontSize-5xl);--prose-p-br-margin: var(--typography-verticalMargin-base) 0 0 0;--prose-p-margin: var(--typography-verticalMargin-base) 0;--prose-p-lineHeight: var(--typography-lead-normal);--typography-color-primary-900: var(--color-primary-900);--typography-color-primary-800: var(--color-primary-800);--typography-color-primary-700: var(--color-primary-700);--typography-color-primary-600: var(--color-primary-600);--typography-color-primary-500: var(--color-primary-500);--typography-color-primary-400: var(--color-primary-400);--typography-color-primary-300: var(--color-primary-300);--typography-color-primary-200: var(--color-primary-200);--typography-color-primary-100: var(--color-primary-100);--typography-color-primary-50: var(--color-primary-50);--typography-font-code: var(--font-mono);--typography-font-body: var(--font-sans);--typography-font-display: var(--font-sans);--typography-body-backgroundColor: var(--color-white);--typography-body-color: var(--color-black);--elements-state-danger-borderColor-secondary: var(--color-red-200);--elements-state-danger-borderColor-primary: var(--color-red-100);--elements-state-danger-backgroundColor-secondary: var(--color-red-100);--elements-state-danger-backgroundColor-primary: var(--color-red-50);--elements-state-danger-color-secondary: var(--color-red-600);--elements-state-danger-color-primary: var(--color-red-500);--elements-state-warning-borderColor-secondary: var(--color-yellow-200);--elements-state-warning-borderColor-primary: var(--color-yellow-100);--elements-state-warning-backgroundColor-secondary: var(--color-yellow-100);--elements-state-warning-backgroundColor-primary: var(--color-yellow-50);--elements-state-warning-color-secondary: var(--color-yellow-700);--elements-state-warning-color-primary: var(--color-yellow-600);--elements-state-success-borderColor-secondary: var(--color-green-200);--elements-state-success-borderColor-primary: var(--color-green-100);--elements-state-success-backgroundColor-secondary: var(--color-green-100);--elements-state-success-backgroundColor-primary: var(--color-green-50);--elements-state-success-color-secondary: var(--color-green-600);--elements-state-success-color-primary: var(--color-green-500);--elements-state-info-borderColor-secondary: var(--color-blue-200);--elements-state-info-borderColor-primary: var(--color-blue-100);--elements-state-info-backgroundColor-secondary: var(--color-blue-100);--elements-state-info-backgroundColor-primary: var(--color-blue-50);--elements-state-info-color-secondary: var(--color-blue-600);--elements-state-info-color-primary: var(--color-blue-500);--elements-state-primary-borderColor-secondary: var(--color-primary-200);--elements-state-primary-borderColor-primary: var(--color-primary-100);--elements-state-primary-backgroundColor-secondary: var(--color-primary-100);--elements-state-primary-backgroundColor-primary: var(--color-primary-50);--elements-state-primary-color-secondary: var(--color-primary-700);--elements-state-primary-color-primary: var(--color-primary-600);--elements-surface-secondary-backgroundColor: var(--color-gray-200);--elements-surface-primary-backgroundColor: var(--color-gray-100);--elements-surface-background-base: var(--color-gray-100);--elements-border-secondary-static: var(--color-gray-200);--elements-border-primary-hover: var(--color-gray-200);--elements-border-primary-static: var(--color-gray-100);--elements-container-padding-md: var(--space-16);--elements-container-padding-sm: var(--space-12);--elements-container-padding-xs: var(--space-8);--elements-container-padding-mobile: var(--space-6);--elements-text-secondary-color-hover: var(--color-gray-700);--elements-text-secondary-color-static: var(--color-gray-500);--elements-text-primary-color-static: var(--color-gray-900);--text-6xl-lineHeight: var(--lead-none);--text-6xl-fontSize: var(--fontSize-6xl);--text-5xl-lineHeight: var(--lead-none);--text-5xl-fontSize: var(--fontSize-5xl);--text-4xl-lineHeight: var(--lead-10);--text-4xl-fontSize: var(--fontSize-4xl);--text-3xl-lineHeight: var(--lead-9);--text-3xl-fontSize: var(--fontSize-3xl);--text-2xl-lineHeight: var(--lead-8);--text-2xl-fontSize: var(--fontSize-2xl);--text-xl-lineHeight: var(--lead-7);--text-xl-fontSize: var(--fontSize-xl);--text-lg-lineHeight: var(--lead-7);--text-lg-fontSize: var(--fontSize-lg);--text-base-lineHeight: var(--lead-6);--text-base-fontSize: var(--fontSize-base);--text-sm-lineHeight: var(--lead-5);--text-sm-fontSize: var(--fontSize-sm);--text-xs-lineHeight: var(--lead-4);--text-xs-fontSize: var(--fontSize-xs);--shadow-2xl: 0px 25px 50px -12px var(--color-gray-900);--shadow-xl: 0px 20px 25px -5px var(--color-gray-400), 0px 8px 10px -6px #000000;--color-secondary-900: var(--color-gray-900);--color-secondary-800: var(--color-gray-800);--color-secondary-700: var(--color-gray-700);--color-secondary-600: var(--color-gray-600);--color-secondary-500: var(--color-gray-500);--color-secondary-400: var(--color-gray-400);--color-secondary-300: var(--color-gray-300);--color-secondary-200: var(--color-gray-200);--color-secondary-100: var(--color-gray-100);--color-secondary-50: var(--color-gray-50);--prose-a-code-background-hover: var(--typography-color-primary-50);--prose-a-code-border-color-hover: var(--typography-color-primary-500);--prose-a-color-hover: var(--typography-color-primary-500);--typography-color-secondary-900: var(--color-secondary-900);--typography-color-secondary-800: var(--color-secondary-800);--typography-color-secondary-700: var(--color-secondary-700);--typography-color-secondary-600: var(--color-secondary-600);--typography-color-secondary-500: var(--color-secondary-500);--typography-color-secondary-400: var(--color-secondary-400);--typography-color-secondary-300: var(--color-secondary-300);--typography-color-secondary-200: var(--color-secondary-200);--typography-color-secondary-100: var(--color-secondary-100);--typography-color-secondary-50: var(--color-secondary-50);--prose-code-inline-backgroundColor: var(--typography-color-secondary-100);--prose-code-inline-color: var(--typography-color-secondary-700);--prose-code-block-backgroundColor: var(--typography-color-secondary-100);--prose-code-block-color: var(--typography-color-secondary-700);--prose-code-block-border-color: var(--typography-color-secondary-200);--prose-tbody-tr-borderBottom-color: var(--typography-color-secondary-200);--prose-th-color: var(--typography-color-secondary-600);--prose-thead-borderBottom-color: var(--typography-color-secondary-200);--prose-thead-border-color: var(--typography-color-secondary-300);--prose-hr-color: var(--typography-color-secondary-200);--prose-blockquote-border-color: var(--typography-color-secondary-200);--prose-blockquote-color: var(--typography-color-secondary-500);--prose-a-code-border-color-static: var(--typography-color-secondary-400); } }@media { :root.dark {--pinceau-mq: dark; --alpine-backdrop-backgroundColor: #18181bb3;--prose-code-block-backdropFilter: contrast(1);--prose-ol-li-markerColor: currentColor;--prose-ul-li-markerColor: currentColor;--prose-a-code-color-hover: currentColor;--prose-a-code-color-static: currentColor;--prose-a-border-color-hover: currentColor;--prose-a-border-color-static: currentColor;--prose-a-color-static: inherit;--elements-backdrop-background: #0c0d0ccc;--alpine-body-color: var(--color-gray-200);--alpine-body-backgroundColor: var(--color-black);--typography-body-backgroundColor: var(--color-black);--typography-body-color: var(--color-white);--elements-state-danger-borderColor-secondary: var(--color-red-700);--elements-state-danger-borderColor-primary: var(--color-red-800);--elements-state-danger-backgroundColor-secondary: var(--color-red-800);--elements-state-danger-backgroundColor-primary: var(--color-red-900);--elements-state-danger-color-secondary: var(--color-red-200);--elements-state-danger-color-primary: var(--color-red-300);--elements-state-warning-borderColor-secondary: var(--color-yellow-700);--elements-state-warning-borderColor-primary: var(--color-yellow-800);--elements-state-warning-backgroundColor-secondary: var(--color-yellow-800);--elements-state-warning-backgroundColor-primary: var(--color-yellow-900);--elements-state-warning-color-secondary: var(--color-yellow-200);--elements-state-warning-color-primary: var(--color-yellow-400);--elements-state-success-borderColor-secondary: var(--color-green-700);--elements-state-success-borderColor-primary: var(--color-green-800);--elements-state-success-backgroundColor-secondary: var(--color-green-800);--elements-state-success-backgroundColor-primary: var(--color-green-900);--elements-state-success-color-secondary: var(--color-green-200);--elements-state-success-color-primary: var(--color-green-400);--elements-state-info-borderColor-secondary: var(--color-blue-700);--elements-state-info-borderColor-primary: var(--color-blue-800);--elements-state-info-backgroundColor-secondary: var(--color-blue-800);--elements-state-info-backgroundColor-primary: var(--color-blue-900);--elements-state-info-color-secondary: var(--color-blue-200);--elements-state-info-color-primary: var(--color-blue-400);--elements-state-primary-borderColor-secondary: var(--color-primary-700);--elements-state-primary-borderColor-primary: var(--color-primary-800);--elements-state-primary-backgroundColor-secondary: var(--color-primary-800);--elements-state-primary-backgroundColor-primary: var(--color-primary-900);--elements-state-primary-color-secondary: var(--color-primary-200);--elements-state-primary-color-primary: var(--color-primary-400);--elements-surface-secondary-backgroundColor: var(--color-gray-800);--elements-surface-primary-backgroundColor: var(--color-gray-900);--elements-surface-background-base: var(--color-gray-900);--elements-border-secondary-static: var(--color-gray-800);--elements-border-primary-hover: var(--color-gray-800);--elements-border-primary-static: var(--color-gray-900);--elements-text-secondary-color-hover: var(--color-gray-200);--elements-text-secondary-color-static: var(--color-gray-400);--elements-text-primary-color-static: var(--color-gray-50);--prose-a-code-background-hover: var(--typography-color-primary-900);--prose-a-code-border-color-hover: var(--typography-color-primary-600);--prose-a-color-hover: var(--typography-color-primary-400);--prose-code-inline-backgroundColor: var(--typography-color-secondary-800);--prose-code-inline-color: var(--typography-color-secondary-200);--prose-code-block-backgroundColor: var(--typography-color-secondary-900);--prose-code-block-color: var(--typography-color-secondary-200);--prose-code-block-border-color: var(--typography-color-secondary-800);--prose-tbody-tr-borderBottom-color: var(--typography-color-secondary-800);--prose-th-color: var(--typography-color-secondary-400);--prose-thead-borderBottom-color: var(--typography-color-secondary-800);--prose-thead-border-color: var(--typography-color-secondary-600);--prose-hr-color: var(--typography-color-secondary-800);--prose-blockquote-border-color: var(--typography-color-secondary-700);--prose-blockquote-color: var(--typography-color-secondary-400);--prose-a-code-border-color-static: var(--typography-color-secondary-600); } }</style><script>"use strict";(()=>{const a=window,e=document.documentElement,m=["dark","light"],c=window&&window.localStorage&&window.localStorage.getItem&&window.localStorage.getItem("nuxt-color-mode")||"system";let n=c==="system"?d():c;const l=e.getAttribute("data-color-mode-forced");l&&(n=l),i(n),a["__NUXT_COLOR_MODE__"]={preference:c,value:n,getColorScheme:d,addColorScheme:i,removeColorScheme:f};function i(o){const t=""+o+"",s="";e.classList?e.classList.add(t):e.className+=" "+t,s&&e.setAttribute("data-"+s,o)}function f(o){const t=""+o+"",s="";e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(t,"g"),""),s&&e.removeAttribute("data-"+s)}function r(o){return a.matchMedia("(prefers-color-scheme"+o+")")}function d(){if(a.matchMedia&&r("").media!=="not all"){for(const o of m)if(r(":"+o).matches)return o}return"light"}})();
</script></head><body><div id="__nuxt"><div class="container pv-3qL4jp pc-jsDP3U app-layout" data-v-e91e951a data-v-a8473337><!--[--><div class="nuxt-progress" style="width:0%;height:3px;opacity:0;background-size:Infinity% auto;" data-v-e91e951a></div><header class="right" data-v-e91e951a data-v-a40454a5><div class="menu" data-v-a40454a5><button aria-label="Navigation Menu" data-v-a40454a5><svg width="24" height="24" viewBox="0 0 68 68" fill="currentColor" xmlns="http://www.w3.org/2000/svg" data-v-a40454a5><path d="M8 34C8 32.1362 8 31.2044 8.30448 30.4693C8.71046 29.4892 9.48915 28.7105 10.4693 28.3045C11.2044 28 12.1362 28 14 28C15.8638 28 16.7956 28 17.5307 28.3045C18.5108 28.7105 19.2895 29.4892 19.6955 30.4693C20 31.2044 20 32.1362 20 34C20 35.8638 20 36.7956 19.6955 37.5307C19.2895 38.5108 18.5108 39.2895 17.5307 39.6955C16.7956 40 15.8638 40 14 40C12.1362 40 11.2044 40 10.4693 39.6955C9.48915 39.2895 8.71046 38.5108 8.30448 37.5307C8 36.7956 8 35.8638 8 34Z" data-v-a40454a5></path><path d="M28 34C28 32.1362 28 31.2044 28.3045 30.4693C28.7105 29.4892 29.4892 28.7105 30.4693 28.3045C31.2044 28 32.1362 28 34 28C35.8638 28 36.7956 28 37.5307 28.3045C38.5108 28.7105 39.2895 29.4892 39.6955 30.4693C40 31.2044 40 32.1362 40 34C40 35.8638 40 36.7956 39.6955 37.5307C39.2895 38.5108 38.5108 39.2895 37.5307 39.6955C36.7956 40 35.8638 40 34 40C32.1362 40 31.2044 40 30.4693 39.6955C29.4892 39.2895 28.7105 38.5108 28.3045 37.5307C28 36.7956 28 35.8638 28 34Z" data-v-a40454a5></path><path d="M48 34C48 32.1362 48 31.2044 48.3045 30.4693C48.7105 29.4892 49.4892 28.7105 50.4693 28.3045C51.2044 28 52.1362 28 54 28C55.8638 28 56.7956 28 57.5307 28.3045C58.5108 28.7105 59.2895 29.4892 59.6955 30.4693C60 31.2044 60 32.1362 60 34C60 35.8638 60 36.7956 59.6955 37.5307C59.2895 38.5108 58.5108 39.2895 57.5307 39.6955C56.7956 40 55.8638 40 54 40C52.1362 40 51.2044 40 50.4693 39.6955C49.4892 39.2895 48.7105 38.5108 48.3045 37.5307C48 36.7956 48 35.8638 48 34Z" data-v-a40454a5></path></svg></button></div><div class="overlay" data-v-a40454a5><nav data-v-a40454a5 data-v-7766893b><ul data-v-7766893b><!--[--><li data-v-7766893b><a href="/" class="" data-v-7766893b><span class="underline-fx" data-v-7766893b></span> About</a></li><li data-v-7766893b><a href="/articles" class="" data-v-7766893b><span class="underline-fx" data-v-7766893b></span> Articles</a></li><li data-v-7766893b><a href="/plugins" class="" data-v-7766893b><span class="underline-fx" data-v-7766893b></span> Plugins</a></li><li data-v-7766893b><a href="/contact" class="" data-v-7766893b><span class="underline-fx" data-v-7766893b></span> Contact</a></li><!--]--></ul></nav></div><div class="logo" data-v-a40454a5><a href="/" class="" data-v-a40454a5><img src="logo-dark.svg" class="dark-img" alt="Ne znam" width="89" height="31" data-v-a40454a5><img src="logo.svg" class="light-img" alt="Ne znam" width="89" height="31" data-v-a40454a5></a></div><div class="main-nav" data-v-a40454a5><nav data-v-a40454a5 data-v-7766893b><ul data-v-7766893b><!--[--><li data-v-7766893b><a href="/" class="" data-v-7766893b><span class="underline-fx" data-v-7766893b></span> About</a></li><li data-v-7766893b><a href="/articles" class="" data-v-7766893b><span class="underline-fx" data-v-7766893b></span> Articles</a></li><li data-v-7766893b><a href="/plugins" class="" data-v-7766893b><span class="underline-fx" data-v-7766893b></span> Plugins</a></li><li data-v-7766893b><a href="/contact" class="" data-v-7766893b><span class="underline-fx" data-v-7766893b></span> Contact</a></li><!--]--></ul></nav></div></header><!--[--><div class="document-driven-page"><article data-v-52f30bdd><a href="/articles" class="back" data-v-52f30bdd><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-52f30bdd style="" width="1em" height="1em" viewBox="0 0 256 256" data-v-8939816f><path fill="currentColor" d="M224 128a8 8 0 0 1-8 8H59.31l58.35 58.34a8 8 0 0 1-11.32 11.32l-72-72a8 8 0 0 1 0-11.32l72-72a8 8 0 0 1 11.32 11.32L59.31 120H216a8 8 0 0 1 8 8"/></svg><span data-v-52f30bdd> Back </span></a><header data-v-52f30bdd><h1 class="title" data-v-52f30bdd>Setup proxies in Nuxt for Laravel Sanctum</h1><time datetime="2024-01-08T00:00:00.000Z" data-v-52f30bdd>January 8, 2024</time></header><div class="prose" data-v-52f30bdd><!--[--><div><h1 id="setup-proxies-in-nuxt-for-laravel-sanctum" data-v-e4d59717><a aria-current="page" href="/articles/setup-proxies-in-nuxt-for-laravel-sanctum#setup-proxies-in-nuxt-for-laravel-sanctum" class="router-link-active router-link-exact-active" data-v-e4d59717><!--[-->Setup proxies in Nuxt for Laravel Sanctum<!--]--><!----></a></h1><p data-v-7fd31a86><!--[--><a href="https://laravel.com/docs/10.x/sanctum" rel="nofollow" data-v-64bed072><!--[-->Laravel Sanctum<!--]--></a> is a great package for authenticating users in a Laravel application. It&#39;s easy to setup and use, but it has one big issue. It doesn&#39;t work well with CORS.<!--]--></p><p data-v-7fd31a86><!--[-->CORS stands for Cross-Origin Resource Sharing and it&#39;s a mechanism that allows a server to indicate any other origins (domain, scheme, or port) than its own from which a browser should permit loading of resources. It is a great tool for security, but it can be a pain to work with.<!--]--></p><p data-v-7fd31a86><!--[-->This means that if you have a Laravel application running on <code class="" data-v-4a37eefd><!--[-->https://example.com<!--]--></code> and you want to make an API request to <code class="" data-v-4a37eefd><!--[-->https://api.example.com<!--]--></code> you will get a CORS error.<!--]--></p><p data-v-7fd31a86><!--[-->This is a big issue if you want to use Laravel Sanctum to authenticate users in a Nuxt application. Nuxt runs on <code class="" data-v-4a37eefd><!--[-->http://localhost:3000<!--]--></code> in development and on <code class="" data-v-4a37eefd><!--[-->https://example.com<!--]--></code> in production. This means that you will get a CORS error when you try to authenticate a user in development.<!--]--></p><h2 id="setup-proxies" data-v-53f93883><a aria-current="page" href="/articles/setup-proxies-in-nuxt-for-laravel-sanctum#setup-proxies" class="router-link-active router-link-exact-active" data-v-53f93883><!--[-->Setup proxies<!--]--><!----></a></h2><p data-v-7fd31a86><!--[-->The solution to this problem is to setup proxies in Nuxt. Proxies allow you to proxy requests to a different URL. This means that you can proxy requests to <code class="" data-v-4a37eefd><!--[-->https://api.example.com<!--]--></code> to <code class="" data-v-4a37eefd><!--[-->http://localhost:3000<!--]--></code> in development.<!--]--></p><p data-v-7fd31a86><!--[-->This way you can make requests to <code class="" data-v-4a37eefd><!--[-->http://localhost:3000<!--]--></code> in development and <code class="" data-v-4a37eefd><!--[-->https://api.example.com<!--]--></code> in production.<!--]--></p><p data-v-7fd31a86><!--[-->To setup proxies in Nuxt you need to edit <code class="" data-v-4a37eefd><!--[-->nuxt.config.ts<!--]--></code> file in the root of your project. This file is used to configure your Nuxt application.<!--]--></p><p data-v-7fd31a86><!--[-->In this file you need to add a <code class="" data-v-4a37eefd><!--[-->nitro.devProxy<!--]--></code> property.<!--]--></p><div class="highlight-ts prose-code" meta data-v-33b35f7a><!----><!--[--><pre class="language-ts shiki shiki-themes github-light github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> default</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0"> defineNuxtConfig</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">({
</span></span><span class="line" line="2"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">    nitro: {
</span></span><span class="line" line="3"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">        devProxy: {
</span></span><span class="line" line="4"><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF">            &quot;/proxy&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">: process.env.</span><span style="--shiki-default:#005CC5;--shiki-dark:#79B8FF">NUXT_PUBLIC_API_BASE</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">,
</span></span><span class="line" line="5"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">        },
</span></span><span class="line" line="6"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">    },
</span></span><span class="line" line="7"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">})
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-33b35f7a data-v-fabbe24a><span class="sr-only" data-v-fabbe24a>Copy to clipboard</span><span class="icon-wrapper" data-v-fabbe24a><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-fabbe24a style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-8939816f><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-7fd31a86><!--[-->This will proxy all requests to <code class="" data-v-4a37eefd><!--[-->http://localhost:3000<!--]--></code> that start with <code class="" data-v-4a37eefd><!--[-->/proxy<!--]--></code>. So if you make a request to <code class="" data-v-4a37eefd><!--[-->/proxy/users<!--]--></code> it will be proxied to <code class="" data-v-4a37eefd><!--[-->http://example.com/users<!--]--></code>.<!--]--></p><h2 id="setup-laravel-sanctum" data-v-53f93883><a aria-current="page" href="/articles/setup-proxies-in-nuxt-for-laravel-sanctum#setup-laravel-sanctum" class="router-link-active router-link-exact-active" data-v-53f93883><!--[-->Setup Laravel Sanctum<!--]--><!----></a></h2><p data-v-7fd31a86><!--[-->Now that you have setup proxies in Nuxt you need to setup Laravel Sanctum to work with proxies.<!--]--></p><p data-v-7fd31a86><!--[-->Sanctum already accepts requests for localhost:3000 so there is no need to change anything. But if you are using a different port in your Nuxt application you need to add it to the <code class="" data-v-4a37eefd><!--[-->SANCTUM_STATEFUL_DOMAINS<!--]--></code> environment variable in your Laravel application.<!--]--></p><p data-v-7fd31a86><!--[-->To do this you need to add the URL of your Nuxt application to the <code class="" data-v-4a37eefd><!--[-->SANCTUM_STATEFUL_DOMAINS<!--]--></code> environment variable in your Laravel application.<!--]--></p><div class="highlight-env prose-code" meta data-v-33b35f7a><!----><!--[--><pre class="language-env" style=""><!--[--><code>SANCTUM_STATEFUL_DOMAINS=localhost:5000
</code><!--]--></pre><!--]--><button class="copy-button" data-v-33b35f7a data-v-fabbe24a><span class="sr-only" data-v-fabbe24a>Copy to clipboard</span><span class="icon-wrapper" data-v-fabbe24a><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-fabbe24a style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-8939816f><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-7fd31a86><!--[-->This will allow Laravel Sanctum to authenticate users from <code class="" data-v-4a37eefd><!--[-->http://localhost:5000<!--]--></code>.<!--]--></p><h2 id="setup-nuxt-auth-sanctum-module" data-v-53f93883><a aria-current="page" href="/articles/setup-proxies-in-nuxt-for-laravel-sanctum#setup-nuxt-auth-sanctum-module" class="router-link-active router-link-exact-active" data-v-53f93883><!--[-->Setup Nuxt Auth Sanctum Module<!--]--><!----></a></h2><p data-v-7fd31a86><!--[-->If you are using the <a href="https://nuxt.com/modules/nuxt-auth-sanctum" rel="nofollow" data-v-64bed072><!--[-->Nuxt Auth Sanctum Module<!--]--></a> you need to add the <code class="" data-v-4a37eefd><!--[-->proxy<!--]--></code> property to the <code class="" data-v-4a37eefd><!--[-->sanctum<!--]--></code> property in the <code class="" data-v-4a37eefd><!--[-->auth<!--]--></code> property in your <code class="" data-v-4a37eefd><!--[-->nuxt.config.ts<!--]--></code> file.<!--]--></p><div class="highlight-ts prose-code" meta data-v-33b35f7a><!----><!--[--><pre class="language-ts shiki shiki-themes github-light github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-default:#D73A49;--shiki-dark:#F97583"> default</span><span style="--shiki-default:#6F42C1;--shiki-dark:#B392F0"> defineNuxtConfig</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">({
</span></span><span class="line" line="2"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">    sanctum: {
</span></span><span class="line" line="3"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">        baseUrl: </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF">&quot;http://localhost:3000&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-default:#6A737D;--shiki-dark:#6A737D">// the URL of your Nuxt application
</span></span><span class="line" line="4"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">        endpoints: {
</span></span><span class="line" line="5"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">            csrf: </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF">&quot;/proxy/sanctum/csrf-cookie&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-default:#6A737D;--shiki-dark:#6A737D">// prefix with your proxy prefix
</span></span><span class="line" line="6"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">            login: </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF">&quot;/proxy/login&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">,
</span></span><span class="line" line="7"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">            logout: </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF">&quot;/proxy/logout&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">,
</span></span><span class="line" line="8"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">            user: </span><span style="--shiki-default:#032F62;--shiki-dark:#9ECBFF">&quot;/proxy/api/user&quot;</span><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">,
</span></span><span class="line" line="9"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">        },
</span></span><span class="line" line="10"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">    },
</span></span><span class="line" line="11"><span style="--shiki-default:#24292E;--shiki-dark:#E1E4E8">})
</span></span></code><!--]--></pre><!--]--><button class="copy-button" data-v-33b35f7a data-v-fabbe24a><span class="sr-only" data-v-fabbe24a>Copy to clipboard</span><span class="icon-wrapper" data-v-fabbe24a><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-fabbe24a style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-8939816f><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-7fd31a86><!--[-->This will make sure that the Nuxt Auth Sanctum Module makes requests to the correct URL.<!--]--></p><h2 id="conclusion" data-v-53f93883><a aria-current="page" href="/articles/setup-proxies-in-nuxt-for-laravel-sanctum#conclusion" class="router-link-active router-link-exact-active" data-v-53f93883><!--[-->Conclusion<!--]--><!----></a></h2><p data-v-7fd31a86><!--[-->That&#39;s it. You have now setup proxies in Nuxt for Laravel Sanctum. You can now make requests to <code class="" data-v-4a37eefd><!--[-->http://localhost:3000<!--]--></code> in development and <code class="" data-v-4a37eefd><!--[-->https://api.example.com<!--]--></code> in production.<!--]--></p><style>html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}</style></div><!--]--><div class="back-to-top" data-v-52f30bdd><a data-v-52f30bdd data-v-64bed072><!--[-->Back to top <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-52f30bdd style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-8939816f><path fill="currentColor" d="M11 20V7.825l-5.6 5.6L4 12l8-8l8 8l-1.4 1.425l-5.6-5.6V20z"/></svg><!--]--></a></div></div></article></div><!--]--><footer class="center" data-v-e91e951a data-v-c4798be2><a href="https://github.com/mbanusic/neznam" rel="noopener noreferrer" class="credits" data-v-c4798be2>Ne znam</a><div class="navigation" data-v-c4798be2><nav data-v-c4798be2 data-v-7766893b><ul data-v-7766893b><!--[--><li data-v-7766893b><a href="/" class="" data-v-7766893b><span class="underline-fx" data-v-7766893b></span> About</a></li><li data-v-7766893b><a href="/articles" class="" data-v-7766893b><span class="underline-fx" data-v-7766893b></span> Articles</a></li><li data-v-7766893b><a href="/plugins" class="" data-v-7766893b><span class="underline-fx" data-v-7766893b></span> Plugins</a></li><li data-v-7766893b><a href="/contact" class="" data-v-7766893b><span class="underline-fx" data-v-7766893b></span> Contact</a></li><!--]--></ul></nav></div><p class="message" data-v-c4798be2>Follow me on</p><div class="icons" data-v-c4798be2><div class="social" data-v-c4798be2><!--[--><a href="https://twitter.com/mbanusic" rel="noopener noreferrer" target="_blank" title="mbanusic" aria-label="mbanusic" data-v-7f55198c><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-7f55198c style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-8939816f><path fill="currentColor" d="M22 5.8a8.49 8.49 0 0 1-2.36.64a4.13 4.13 0 0 0 1.81-2.27a8.21 8.21 0 0 1-2.61 1a4.1 4.1 0 0 0-7 3.74a11.64 11.64 0 0 1-8.45-4.29a4.16 4.16 0 0 0-.55 2.07a4.09 4.09 0 0 0 1.82 3.41a4.05 4.05 0 0 1-1.86-.51v.05a4.1 4.1 0 0 0 3.3 4a3.93 3.93 0 0 1-1.1.17a4.9 4.9 0 0 1-.77-.07a4.11 4.11 0 0 0 3.83 2.84A8.22 8.22 0 0 1 3 18.34a7.93 7.93 0 0 1-1-.06a11.57 11.57 0 0 0 6.29 1.85A11.59 11.59 0 0 0 20 8.45v-.53a8.43 8.43 0 0 0 2-2.12"/></svg></a><a href="https://github.com/ne-znam" rel="noopener noreferrer" target="_blank" title="ne-znam" aria-label="ne-znam" data-v-7f55198c><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-7f55198c style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-8939816f><path fill="currentColor" d="M12 2.247a10 10 0 0 0-3.162 19.487c.5.088.687-.212.687-.475c0-.237-.012-1.025-.012-1.862c-2.513.462-3.163-.613-3.363-1.175a3.636 3.636 0 0 0-1.025-1.413c-.35-.187-.85-.65-.013-.662a2.001 2.001 0 0 1 1.538 1.025a2.137 2.137 0 0 0 2.912.825a2.104 2.104 0 0 1 .638-1.338c-2.225-.25-4.55-1.112-4.55-4.937a3.892 3.892 0 0 1 1.025-2.688a3.594 3.594 0 0 1 .1-2.65s.837-.262 2.75 1.025a9.427 9.427 0 0 1 5 0c1.912-1.3 2.75-1.025 2.75-1.025a3.593 3.593 0 0 1 .1 2.65a3.869 3.869 0 0 1 1.025 2.688c0 3.837-2.338 4.687-4.562 4.937a2.368 2.368 0 0 1 .674 1.85c0 1.338-.012 2.413-.012 2.75c0 .263.187.575.687.475A10.005 10.005 0 0 0 12 2.247"/></svg></a><a href="https://www.linkedin.com/company/ne-znam" rel="noopener noreferrer" target="_blank" title="LinkedIn" aria-label="LinkedIn" data-v-7f55198c><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-7f55198c style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-8939816f><path fill="currentColor" d="M20.47 2H3.53a1.45 1.45 0 0 0-1.47 1.43v17.14A1.45 1.45 0 0 0 3.53 22h16.94a1.45 1.45 0 0 0 1.47-1.43V3.43A1.45 1.45 0 0 0 20.47 2M8.09 18.74h-3v-9h3ZM6.59 8.48a1.56 1.56 0 1 1 0-3.12a1.57 1.57 0 1 1 0 3.12m12.32 10.26h-3v-4.83c0-1.21-.43-2-1.52-2A1.65 1.65 0 0 0 12.85 13a2 2 0 0 0-.1.73v5h-3v-9h3V11a3 3 0 0 1 2.71-1.5c2 0 3.45 1.29 3.45 4.06Z"/></svg></a><!--]--></div><div class="color-mode-switch" data-v-c4798be2><button aria-label="Color Mode" data-v-c4798be2 data-v-08cf14b0><span data-v-08cf14b0></span></button></div></div></footer><!--]--></div></div><script type="application/json" id="__NUXT_DATA__" data-ssr="true" data-src="/articles/setup-proxies-in-nuxt-for-laravel-sanctum/_payload.json">[{"state":1,"once":694,"_errors":696,"serverRendered":652,"path":7,"prerenderedAt":698},["Reactive",2],{"$sdd-pages":3,"$sdd-surrounds":627,"$sdd-globals":648,"$scolor-mode":650,"$sdd-navigation":653,"$sicons":672,"$ssite-config":688},["ShallowRef",4],["ShallowReactive",5],{"/articles/setup-proxies-in-nuxt-for-laravel-sanctum":6},{"_path":7,"_dir":8,"_draft":9,"_partial":9,"_locale":10,"title":11,"description":12,"author":13,"date":17,"layout":18,"body":19,"_type":621,"_id":622,"_source":623,"_file":624,"_extension":625,"sitemap":626},"/articles/setup-proxies-in-nuxt-for-laravel-sanctum","articles",false,"","Setup proxies in Nuxt for Laravel Sanctum","Create proxies for Laravel Sanctum in Nuxt to avoid CORS issues",{"name":14,"avatarUrl":15,"link":16},"Marko Banušić","https://0.gravatar.com/avatar/56d26a93583d2b9e3269f35e1370b6619e83e84e446c09b7fd32b69507586697?size=512","https://twitter.com/mbanusic","2024-01-08T00:00:00.000Z","article",{"type":20,"children":21,"toc":615},"root",[22,30,45,50,72,92,99,118,137,150,163,273,309,315,320,333,344,354,366,372,417,581,586,592,609],{"type":23,"tag":24,"props":25,"children":27},"element","h1",{"id":26},"setup-proxies-in-nuxt-for-laravel-sanctum",[28],{"type":29,"value":11},"text",{"type":23,"tag":31,"props":32,"children":33},"p",{},[34,43],{"type":23,"tag":35,"props":36,"children":40},"a",{"href":37,"rel":38},"https://laravel.com/docs/10.x/sanctum",[39],"nofollow",[41],{"type":29,"value":42},"Laravel Sanctum",{"type":29,"value":44}," is a great package for authenticating users in a Laravel application. It's easy to setup and use, but it has one big issue. It doesn't work well with CORS.",{"type":23,"tag":31,"props":46,"children":47},{},[48],{"type":29,"value":49},"CORS stands for Cross-Origin Resource Sharing and it's a mechanism that allows a server to indicate any other origins (domain, scheme, or port) than its own from which a browser should permit loading of resources. It is a great tool for security, but it can be a pain to work with.",{"type":23,"tag":31,"props":51,"children":52},{},[53,55,62,64,70],{"type":29,"value":54},"This means that if you have a Laravel application running on ",{"type":23,"tag":56,"props":57,"children":59},"code",{"className":58},[],[60],{"type":29,"value":61},"https://example.com",{"type":29,"value":63}," and you want to make an API request to ",{"type":23,"tag":56,"props":65,"children":67},{"className":66},[],[68],{"type":29,"value":69},"https://api.example.com",{"type":29,"value":71}," you will get a CORS error.",{"type":23,"tag":31,"props":73,"children":74},{},[75,77,83,85,90],{"type":29,"value":76},"This is a big issue if you want to use Laravel Sanctum to authenticate users in a Nuxt application. Nuxt runs on ",{"type":23,"tag":56,"props":78,"children":80},{"className":79},[],[81],{"type":29,"value":82},"http://localhost:3000",{"type":29,"value":84}," in development and on ",{"type":23,"tag":56,"props":86,"children":88},{"className":87},[],[89],{"type":29,"value":61},{"type":29,"value":91}," in production. This means that you will get a CORS error when you try to authenticate a user in development.",{"type":23,"tag":93,"props":94,"children":96},"h2",{"id":95},"setup-proxies",[97],{"type":29,"value":98},"Setup proxies",{"type":23,"tag":31,"props":100,"children":101},{},[102,104,109,111,116],{"type":29,"value":103},"The solution to this problem is to setup proxies in Nuxt. Proxies allow you to proxy requests to a different URL. This means that you can proxy requests to ",{"type":23,"tag":56,"props":105,"children":107},{"className":106},[],[108],{"type":29,"value":69},{"type":29,"value":110}," to ",{"type":23,"tag":56,"props":112,"children":114},{"className":113},[],[115],{"type":29,"value":82},{"type":29,"value":117}," in development.",{"type":23,"tag":31,"props":119,"children":120},{},[121,123,128,130,135],{"type":29,"value":122},"This way you can make requests to ",{"type":23,"tag":56,"props":124,"children":126},{"className":125},[],[127],{"type":29,"value":82},{"type":29,"value":129}," in development and ",{"type":23,"tag":56,"props":131,"children":133},{"className":132},[],[134],{"type":29,"value":69},{"type":29,"value":136}," in production.",{"type":23,"tag":31,"props":138,"children":139},{},[140,142,148],{"type":29,"value":141},"To setup proxies in Nuxt you need to edit ",{"type":23,"tag":56,"props":143,"children":145},{"className":144},[],[146],{"type":29,"value":147},"nuxt.config.ts",{"type":29,"value":149}," file in the root of your project. This file is used to configure your Nuxt application.",{"type":23,"tag":31,"props":151,"children":152},{},[153,155,161],{"type":29,"value":154},"In this file you need to add a ",{"type":23,"tag":56,"props":156,"children":158},{"className":157},[],[159],{"type":29,"value":160},"nitro.devProxy",{"type":29,"value":162}," property.",{"type":23,"tag":164,"props":165,"children":169},"pre",{"className":166,"code":167,"language":168,"meta":10,"style":10},"language-ts shiki shiki-themes github-light github-dark","export default defineNuxtConfig({\n    nitro: {\n        devProxy: {\n            \"/proxy\": process.env.NUXT_PUBLIC_API_BASE,\n        },\n    },\n})\n","ts",[170],{"type":23,"tag":56,"props":171,"children":172},{"__ignoreMap":10},[173,202,211,220,246,255,264],{"type":23,"tag":174,"props":175,"children":178},"span",{"class":176,"line":177},"line",1,[179,185,190,196],{"type":23,"tag":174,"props":180,"children":182},{"style":181},"--shiki-default:#D73A49;--shiki-dark:#F97583",[183],{"type":29,"value":184},"export",{"type":23,"tag":174,"props":186,"children":187},{"style":181},[188],{"type":29,"value":189}," default",{"type":23,"tag":174,"props":191,"children":193},{"style":192},"--shiki-default:#6F42C1;--shiki-dark:#B392F0",[194],{"type":29,"value":195}," defineNuxtConfig",{"type":23,"tag":174,"props":197,"children":199},{"style":198},"--shiki-default:#24292E;--shiki-dark:#E1E4E8",[200],{"type":29,"value":201},"({\n",{"type":23,"tag":174,"props":203,"children":205},{"class":176,"line":204},2,[206],{"type":23,"tag":174,"props":207,"children":208},{"style":198},[209],{"type":29,"value":210},"    nitro: {\n",{"type":23,"tag":174,"props":212,"children":214},{"class":176,"line":213},3,[215],{"type":23,"tag":174,"props":216,"children":217},{"style":198},[218],{"type":29,"value":219},"        devProxy: {\n",{"type":23,"tag":174,"props":221,"children":223},{"class":176,"line":222},4,[224,230,235,241],{"type":23,"tag":174,"props":225,"children":227},{"style":226},"--shiki-default:#032F62;--shiki-dark:#9ECBFF",[228],{"type":29,"value":229},"            \"/proxy\"",{"type":23,"tag":174,"props":231,"children":232},{"style":198},[233],{"type":29,"value":234},": process.env.",{"type":23,"tag":174,"props":236,"children":238},{"style":237},"--shiki-default:#005CC5;--shiki-dark:#79B8FF",[239],{"type":29,"value":240},"NUXT_PUBLIC_API_BASE",{"type":23,"tag":174,"props":242,"children":243},{"style":198},[244],{"type":29,"value":245},",\n",{"type":23,"tag":174,"props":247,"children":249},{"class":176,"line":248},5,[250],{"type":23,"tag":174,"props":251,"children":252},{"style":198},[253],{"type":29,"value":254},"        },\n",{"type":23,"tag":174,"props":256,"children":258},{"class":176,"line":257},6,[259],{"type":23,"tag":174,"props":260,"children":261},{"style":198},[262],{"type":29,"value":263},"    },\n",{"type":23,"tag":174,"props":265,"children":267},{"class":176,"line":266},7,[268],{"type":23,"tag":174,"props":269,"children":270},{"style":198},[271],{"type":29,"value":272},"})\n",{"type":23,"tag":31,"props":274,"children":275},{},[276,278,283,285,291,293,299,301,307],{"type":29,"value":277},"This will proxy all requests to ",{"type":23,"tag":56,"props":279,"children":281},{"className":280},[],[282],{"type":29,"value":82},{"type":29,"value":284}," that start with ",{"type":23,"tag":56,"props":286,"children":288},{"className":287},[],[289],{"type":29,"value":290},"/proxy",{"type":29,"value":292},". So if you make a request to ",{"type":23,"tag":56,"props":294,"children":296},{"className":295},[],[297],{"type":29,"value":298},"/proxy/users",{"type":29,"value":300}," it will be proxied to ",{"type":23,"tag":56,"props":302,"children":304},{"className":303},[],[305],{"type":29,"value":306},"http://example.com/users",{"type":29,"value":308},".",{"type":23,"tag":93,"props":310,"children":312},{"id":311},"setup-laravel-sanctum",[313],{"type":29,"value":314},"Setup Laravel Sanctum",{"type":23,"tag":31,"props":316,"children":317},{},[318],{"type":29,"value":319},"Now that you have setup proxies in Nuxt you need to setup Laravel Sanctum to work with proxies.",{"type":23,"tag":31,"props":321,"children":322},{},[323,325,331],{"type":29,"value":324},"Sanctum already accepts requests for localhost:3000 so there is no need to change anything. But if you are using a different port in your Nuxt application you need to add it to the ",{"type":23,"tag":56,"props":326,"children":328},{"className":327},[],[329],{"type":29,"value":330},"SANCTUM_STATEFUL_DOMAINS",{"type":29,"value":332}," environment variable in your Laravel application.",{"type":23,"tag":31,"props":334,"children":335},{},[336,338,343],{"type":29,"value":337},"To do this you need to add the URL of your Nuxt application to the ",{"type":23,"tag":56,"props":339,"children":341},{"className":340},[],[342],{"type":29,"value":330},{"type":29,"value":332},{"type":23,"tag":164,"props":345,"children":349},{"className":346,"code":347,"language":348,"meta":10,"style":10},"language-env","SANCTUM_STATEFUL_DOMAINS=localhost:5000\n","env",[350],{"type":23,"tag":56,"props":351,"children":352},{"__ignoreMap":10},[353],{"type":29,"value":347},{"type":23,"tag":31,"props":355,"children":356},{},[357,359,365],{"type":29,"value":358},"This will allow Laravel Sanctum to authenticate users from ",{"type":23,"tag":56,"props":360,"children":362},{"className":361},[],[363],{"type":29,"value":364},"http://localhost:5000",{"type":29,"value":308},{"type":23,"tag":93,"props":367,"children":369},{"id":368},"setup-nuxt-auth-sanctum-module",[370],{"type":29,"value":371},"Setup Nuxt Auth Sanctum Module",{"type":23,"tag":31,"props":373,"children":374},{},[375,377,384,386,392,394,400,402,408,410,415],{"type":29,"value":376},"If you are using the ",{"type":23,"tag":35,"props":378,"children":381},{"href":379,"rel":380},"https://nuxt.com/modules/nuxt-auth-sanctum",[39],[382],{"type":29,"value":383},"Nuxt Auth Sanctum Module",{"type":29,"value":385}," you need to add the ",{"type":23,"tag":56,"props":387,"children":389},{"className":388},[],[390],{"type":29,"value":391},"proxy",{"type":29,"value":393}," property to the ",{"type":23,"tag":56,"props":395,"children":397},{"className":396},[],[398],{"type":29,"value":399},"sanctum",{"type":29,"value":401}," property in the ",{"type":23,"tag":56,"props":403,"children":405},{"className":404},[],[406],{"type":29,"value":407},"auth",{"type":29,"value":409}," property in your ",{"type":23,"tag":56,"props":411,"children":413},{"className":412},[],[414],{"type":29,"value":147},{"type":29,"value":416}," file.",{"type":23,"tag":164,"props":418,"children":420},{"className":166,"code":419,"language":168,"meta":10,"style":10},"export default defineNuxtConfig({\n    sanctum: {\n        baseUrl: \"http://localhost:3000\", // the URL of your Nuxt application\n        endpoints: {\n            csrf: \"/proxy/sanctum/csrf-cookie\", // prefix with your proxy prefix\n            login: \"/proxy/login\",\n            logout: \"/proxy/logout\",\n            user: \"/proxy/api/user\",\n        },\n    },\n})\n",[421],{"type":23,"tag":56,"props":422,"children":423},{"__ignoreMap":10},[424,443,451,475,483,505,522,539,557,565,573],{"type":23,"tag":174,"props":425,"children":426},{"class":176,"line":177},[427,431,435,439],{"type":23,"tag":174,"props":428,"children":429},{"style":181},[430],{"type":29,"value":184},{"type":23,"tag":174,"props":432,"children":433},{"style":181},[434],{"type":29,"value":189},{"type":23,"tag":174,"props":436,"children":437},{"style":192},[438],{"type":29,"value":195},{"type":23,"tag":174,"props":440,"children":441},{"style":198},[442],{"type":29,"value":201},{"type":23,"tag":174,"props":444,"children":445},{"class":176,"line":204},[446],{"type":23,"tag":174,"props":447,"children":448},{"style":198},[449],{"type":29,"value":450},"    sanctum: {\n",{"type":23,"tag":174,"props":452,"children":453},{"class":176,"line":213},[454,459,464,469],{"type":23,"tag":174,"props":455,"children":456},{"style":198},[457],{"type":29,"value":458},"        baseUrl: ",{"type":23,"tag":174,"props":460,"children":461},{"style":226},[462],{"type":29,"value":463},"\"http://localhost:3000\"",{"type":23,"tag":174,"props":465,"children":466},{"style":198},[467],{"type":29,"value":468},", ",{"type":23,"tag":174,"props":470,"children":472},{"style":471},"--shiki-default:#6A737D;--shiki-dark:#6A737D",[473],{"type":29,"value":474},"// the URL of your Nuxt application\n",{"type":23,"tag":174,"props":476,"children":477},{"class":176,"line":222},[478],{"type":23,"tag":174,"props":479,"children":480},{"style":198},[481],{"type":29,"value":482},"        endpoints: {\n",{"type":23,"tag":174,"props":484,"children":485},{"class":176,"line":248},[486,491,496,500],{"type":23,"tag":174,"props":487,"children":488},{"style":198},[489],{"type":29,"value":490},"            csrf: ",{"type":23,"tag":174,"props":492,"children":493},{"style":226},[494],{"type":29,"value":495},"\"/proxy/sanctum/csrf-cookie\"",{"type":23,"tag":174,"props":497,"children":498},{"style":198},[499],{"type":29,"value":468},{"type":23,"tag":174,"props":501,"children":502},{"style":471},[503],{"type":29,"value":504},"// prefix with your proxy prefix\n",{"type":23,"tag":174,"props":506,"children":507},{"class":176,"line":257},[508,513,518],{"type":23,"tag":174,"props":509,"children":510},{"style":198},[511],{"type":29,"value":512},"            login: ",{"type":23,"tag":174,"props":514,"children":515},{"style":226},[516],{"type":29,"value":517},"\"/proxy/login\"",{"type":23,"tag":174,"props":519,"children":520},{"style":198},[521],{"type":29,"value":245},{"type":23,"tag":174,"props":523,"children":524},{"class":176,"line":266},[525,530,535],{"type":23,"tag":174,"props":526,"children":527},{"style":198},[528],{"type":29,"value":529},"            logout: ",{"type":23,"tag":174,"props":531,"children":532},{"style":226},[533],{"type":29,"value":534},"\"/proxy/logout\"",{"type":23,"tag":174,"props":536,"children":537},{"style":198},[538],{"type":29,"value":245},{"type":23,"tag":174,"props":540,"children":542},{"class":176,"line":541},8,[543,548,553],{"type":23,"tag":174,"props":544,"children":545},{"style":198},[546],{"type":29,"value":547},"            user: ",{"type":23,"tag":174,"props":549,"children":550},{"style":226},[551],{"type":29,"value":552},"\"/proxy/api/user\"",{"type":23,"tag":174,"props":554,"children":555},{"style":198},[556],{"type":29,"value":245},{"type":23,"tag":174,"props":558,"children":560},{"class":176,"line":559},9,[561],{"type":23,"tag":174,"props":562,"children":563},{"style":198},[564],{"type":29,"value":254},{"type":23,"tag":174,"props":566,"children":568},{"class":176,"line":567},10,[569],{"type":23,"tag":174,"props":570,"children":571},{"style":198},[572],{"type":29,"value":263},{"type":23,"tag":174,"props":574,"children":576},{"class":176,"line":575},11,[577],{"type":23,"tag":174,"props":578,"children":579},{"style":198},[580],{"type":29,"value":272},{"type":23,"tag":31,"props":582,"children":583},{},[584],{"type":29,"value":585},"This will make sure that the Nuxt Auth Sanctum Module makes requests to the correct URL.",{"type":23,"tag":93,"props":587,"children":589},{"id":588},"conclusion",[590],{"type":29,"value":591},"Conclusion",{"type":23,"tag":31,"props":593,"children":594},{},[595,597,602,603,608],{"type":29,"value":596},"That's it. You have now setup proxies in Nuxt for Laravel Sanctum. You can now make requests to ",{"type":23,"tag":56,"props":598,"children":600},{"className":599},[],[601],{"type":29,"value":82},{"type":29,"value":129},{"type":23,"tag":56,"props":604,"children":606},{"className":605},[],[607],{"type":29,"value":69},{"type":29,"value":136},{"type":23,"tag":610,"props":611,"children":612},"style",{},[613],{"type":29,"value":614},"html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":10,"searchDepth":204,"depth":204,"links":616},[617,618,619,620],{"id":95,"depth":204,"text":98},{"id":311,"depth":204,"text":314},{"id":368,"depth":204,"text":371},{"id":588,"depth":204,"text":591},"markdown","content:articles:1.setup-proxies-in-nuxt-for-laravel-sanctum.md","content","articles/1.setup-proxies-in-nuxt-for-laravel-sanctum.md","md",{"loc":7},["ShallowRef",628],["ShallowReactive",629],{"/articles/setup-proxies-in-nuxt-for-laravel-sanctum":630},[631,639],{"_path":632,"_dir":10,"_draft":9,"_partial":9,"_locale":10,"title":633,"description":634,"layout":635,"_type":621,"_id":636,"_source":623,"_file":637,"_extension":625,"sitemap":638},"/contact","Contact","You can contact me via email at marko@nezn.am.","default","content:4.contact.md","4.contact.md",{"loc":632},{"_path":640,"_dir":641,"_draft":9,"_partial":9,"_locale":10,"title":642,"description":643,"author":644,"date":17,"layout":18,"_type":621,"_id":645,"_source":623,"_file":646,"_extension":625,"sitemap":647},"/plugins/neznam-atproto-share","plugins","NeZnam ATProto Share WordPress Plugin","WordPress Plugin for sharing posts to ATProto networks like BlueSky",{"name":14,"avatarUrl":15,"link":16},"content:plugins:1.neznam-atproto-share.md","plugins/1.neznam-atproto-share.md",{"loc":640},["ShallowRef",649],{},{"preference":651,"value":651,"unknown":652,"forced":9},"system",true,[654,657,663,671],{"title":655,"_path":656,"layout":635},"About","/",{"title":658,"_path":659,"children":660,"layout":662},"Articles","/articles",[661],{"title":11,"_path":7,"layout":18},"page",{"title":664,"_path":665,"children":666,"layout":662},"Plugins","/plugins",[667,668],{"title":642,"_path":640,"layout":18},{"title":669,"_path":670,"layout":18},"WooCommerce Računi i Fiskalizacija","/plugins/woocommerce-racuni-fiskalizacija",{"title":633,"_path":632,"layout":635},{"uil:twitter":673,"uil:github":677,"uil:linkedin":679,"material-symbols:arrow-upward":681,"ph:arrow-left":683,"ph:copy":686},{"left":674,"top":674,"width":675,"height":675,"rotate":674,"vFlip":9,"hFlip":9,"body":676},0,24,"\u003Cpath fill=\"currentColor\" d=\"M22 5.8a8.49 8.49 0 0 1-2.36.64a4.13 4.13 0 0 0 1.81-2.27a8.21 8.21 0 0 1-2.61 1a4.1 4.1 0 0 0-7 3.74a11.64 11.64 0 0 1-8.45-4.29a4.16 4.16 0 0 0-.55 2.07a4.09 4.09 0 0 0 1.82 3.41a4.05 4.05 0 0 1-1.86-.51v.05a4.1 4.1 0 0 0 3.3 4a3.93 3.93 0 0 1-1.1.17a4.9 4.9 0 0 1-.77-.07a4.11 4.11 0 0 0 3.83 2.84A8.22 8.22 0 0 1 3 18.34a7.93 7.93 0 0 1-1-.06a11.57 11.57 0 0 0 6.29 1.85A11.59 11.59 0 0 0 20 8.45v-.53a8.43 8.43 0 0 0 2-2.12\"/>",{"left":674,"top":674,"width":675,"height":675,"rotate":674,"vFlip":9,"hFlip":9,"body":678},"\u003Cpath fill=\"currentColor\" d=\"M12 2.247a10 10 0 0 0-3.162 19.487c.5.088.687-.212.687-.475c0-.237-.012-1.025-.012-1.862c-2.513.462-3.163-.613-3.363-1.175a3.636 3.636 0 0 0-1.025-1.413c-.35-.187-.85-.65-.013-.662a2.001 2.001 0 0 1 1.538 1.025a2.137 2.137 0 0 0 2.912.825a2.104 2.104 0 0 1 .638-1.338c-2.225-.25-4.55-1.112-4.55-4.937a3.892 3.892 0 0 1 1.025-2.688a3.594 3.594 0 0 1 .1-2.65s.837-.262 2.75 1.025a9.427 9.427 0 0 1 5 0c1.912-1.3 2.75-1.025 2.75-1.025a3.593 3.593 0 0 1 .1 2.65a3.869 3.869 0 0 1 1.025 2.688c0 3.837-2.338 4.687-4.562 4.937a2.368 2.368 0 0 1 .674 1.85c0 1.338-.012 2.413-.012 2.75c0 .263.187.575.687.475A10.005 10.005 0 0 0 12 2.247\"/>",{"left":674,"top":674,"width":675,"height":675,"rotate":674,"vFlip":9,"hFlip":9,"body":680},"\u003Cpath fill=\"currentColor\" d=\"M20.47 2H3.53a1.45 1.45 0 0 0-1.47 1.43v17.14A1.45 1.45 0 0 0 3.53 22h16.94a1.45 1.45 0 0 0 1.47-1.43V3.43A1.45 1.45 0 0 0 20.47 2M8.09 18.74h-3v-9h3ZM6.59 8.48a1.56 1.56 0 1 1 0-3.12a1.57 1.57 0 1 1 0 3.12m12.32 10.26h-3v-4.83c0-1.21-.43-2-1.52-2A1.65 1.65 0 0 0 12.85 13a2 2 0 0 0-.1.73v5h-3v-9h3V11a3 3 0 0 1 2.71-1.5c2 0 3.45 1.29 3.45 4.06Z\"/>",{"left":674,"top":674,"width":675,"height":675,"rotate":674,"vFlip":9,"hFlip":9,"body":682},"\u003Cpath fill=\"currentColor\" d=\"M11 20V7.825l-5.6 5.6L4 12l8-8l8 8l-1.4 1.425l-5.6-5.6V20z\"/>",{"left":674,"top":674,"width":684,"height":684,"rotate":674,"vFlip":9,"hFlip":9,"body":685},256,"\u003Cpath fill=\"currentColor\" d=\"M224 128a8 8 0 0 1-8 8H59.31l58.35 58.34a8 8 0 0 1-11.32 11.32l-72-72a8 8 0 0 1 0-11.32l72-72a8 8 0 0 1 11.32 11.32L59.31 120H216a8 8 0 0 1 8 8\"/>",{"left":674,"top":674,"width":684,"height":684,"rotate":674,"vFlip":9,"hFlip":9,"body":687},"\u003Cpath fill=\"currentColor\" d=\"M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z\"/>",{"defaultLocale":689,"description":690,"env":691,"name":692,"url":693},"en","Small business offering some insights","production","Ne znam","https://nezn.am",["Reactive",695],["Set"],["Reactive",697],{},1704972780662]</script>
<script>window.__NUXT__={};window.__NUXT__.config={public:{FORMSPREE_URL:"",studio:{apiURL:"https://api.nuxt.studio"},mdc:{components:{prose:true,map:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"}},headings:{anchorLinks:{h1:false,h2:true,h3:true,h4:true,h5:false,h6:false}}},content:{locales:[],defaultLocale:"",integrity:1704972749962,experimental:{stripQueryParameters:false,advanceQuery:false,clientDB:false},respectPathCase:false,api:{baseURL:"/api/_content"},navigation:{fields:["navTitle","layout"]},tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:{theme:{default:"github-light",dark:"github-dark"},preload:["json","js","ts","html","css","vue","diff","shell","markdown","yaml","bash","ini","c","cpp"]},wsUrl:"",documentDriven:{page:true,navigation:true,surround:true,globals:{},layoutFallbacks:["theme"],injectPage:true},host:"",trailingSlash:false,search:"",contentHead:true,anchorLinks:{depth:4,exclude:[1]}}},app:{baseURL:"/",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script>
<script type="application/ld+json" id="schema-org-graph" data-hid="3437552">{"@context":"https://schema.org","@graph":[{"@id":"https://nezn.am/#website","@type":"WebSite","description":"Small business offering some insights","inLanguage":"en","name":"Ne znam","url":"https://nezn.am","publisher":{"@id":"https://nezn.am/#identity"}},{"@id":"https://nezn.am/articles/setup-proxies-in-nuxt-for-laravel-sanctum/#webpage","@type":"WebPage","description":"Create proxies for Laravel Sanctum in Nuxt to avoid CORS issues","name":"Setup proxies in Nuxt for Laravel Sanctum","url":"https://nezn.am/articles/setup-proxies-in-nuxt-for-laravel-sanctum","about":{"@id":"https://nezn.am/#identity"},"isPartOf":{"@id":"https://nezn.am/#website"},"potentialAction":[{"@type":"ReadAction","target":["https://nezn.am/articles/setup-proxies-in-nuxt-for-laravel-sanctum"]}],"primaryImageOfPage":{"@id":"https://nezn.am/#logo"}},{"@id":"https://nezn.am/#identity","@type":"Organization","name":"Ne znam","type":"Organization","url":"https://nezn.am"},{"@id":"https://nezn.am/#logo","@type":"ImageObject","caption":"Ne znam","contentUrl":"https://nezn.am/logo.png","inLanguage":"en","url":"https://nezn.am/logo.png"},{"@id":"https://nezn.am/#organization","@type":"Organization","logo":"https://nezn.am/logo.png","name":"Ne znam","url":"https://nezn.am"}]}</script></body></html>